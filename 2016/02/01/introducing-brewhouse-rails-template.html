

<!DOCTYPE html>
<!-- Hello, nice to see you took a peek here :) -->
<!-- Send us an email at hello at brewhouse dot io if you'd like to talk tech -->
<!--[if lt IE 7 ]> <html class="ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8" lang="en"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie9" lang="en"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->

<html lang="en-us" class="blog">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# business: http://ogp.me/ns/business#">

    <title>Introducing Brewhouse's Rails Template</title>
    <meta property="og:title" content="Introducing Brewhouse's Rails Template">
    <meta property="og:site_name" content="brewhouse">
    <meta property="og:url" content="http://brewhouse.io/2016/02/01/introducing-brewhouse-rails-template.html">

    <meta property="og:image" content="http://brewhouse.io/images/brewhouse-symbol-large-200x200.png">

    <meta property="twitter:card" content="summary" />
    <meta property="twitter:site" content="@brewhouseteam" />
    <meta property="twitter:image" content="http://brewhouse.io/images/brewhouse-symbol-large-200x200.png">
    <meta property="twitter:url" content="http://brewhouse.io/2016/02/01/introducing-brewhouse-rails-template.html">

    <link rel="alternate" type="application/atom+xml" href="/blog/index.xml" title="The Brew Pub atom feed">

    
      <meta property="og:type" content="article">
      <meta property="article:published_time" content="2016-02-01 08:00:00 -0800">
      <meta property="article:tag" content="Philippe Creux">

      <meta property="twitter:title" content="Introducing Brewhouse's Rails Template">

      
        <meta name="description" content="The base Rails app we use at Brewhouse to bootstrap a new web app.">
        <meta property="twitter:description" content="The base Rails app we use at Brewhouse to bootstrap a new web app.">
        <meta property="og:description" content="The base Rails app we use at Brewhouse to bootstrap a new web app.">
      
    

    <script src="//use.typekit.net/scl6izu.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="robots" content="INDEX, FOLLOW">

<link rel="shortcut icon" href="/images/icons/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-touch-icon-152x152.png">

<link type="text/css" rel="stylesheet" href="/assets/application.css">


    <!-- needs to be refactored when we have more layouts -->
    

  </head>
  <body class="on-post">
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46725009-2', 'brewhouse.io');
  ga('send', 'pageview');

</script>


    <aside class="offcanvas-menu">
  <ul>
    <li>
      <a class="internal" href="http://brewhouse.io/#work">Work</a>
    </li>
    <li>
      <a class="internal" href="http://brewhouse.io/#services">Services</a>
    </li>
    <li>
      <a href="/meet-the-team.html">Team</a>
    </li>
    <li>
      <a href="/blog">Blog</a>
    </li>
    <li>
      <a href="/show">Podcast</a>
    </li>
  </ul>
  <a class="btn btn--header" href="/work-with-us.html">Hire Us</a>
</aside>

    <nav id="navbar-main" class="navbar navbar-default navbar-main">
  <div class="container">
    <div class="col-xs-12">

      <div class="logo-container">
        <a id="brewhouse-logo" class="navbar-brand internal" rel="home" href="/" title="brewhouse logo"><img src="/images/brewhouse-logo.svg" alt="Brewhouse" class="img-responsive"></a>
      </div>

      <button type="button" class="navbar-toggle navbar-toggle-offcanvas js-navbar-toggle-offcanvas">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="main-menu">
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <a class="internal btn navbar-btn navbar-right btn--header" href="/work-with-us.html">Hire Us</a>
          <ul id="navbar-links" class="nav navbar-nav navbar-right">
            <li><a href="/blog">Blog</a></li>
            <li><a href="/show">Podcast</a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div>

    </div>

  </div>
</nav>


    <div class="main">

      

<article>

  <div class="page-header">
    <div class="container">
      <div class="col-xs-12 col-sm-8">
        <h1 class="page-title">Introducing Brewhouse's Rails Template</h1>
      </div>
      <div class="col-xs-12 col-sm-4 text-xs-center">
        <div class="meta text-center">
          
            <div class="author">
              <img class="img-circle img-author" src="//www.gravatar.com/avatar/cf8db14764d6420698b0ed9c9ed1ba93?s=135" alt="A photo of Philippe Creux" width="55">

              <a href="http://twitter.com/pcreux" target="_blank">Philippe Creux</a> 01 Feb 2016
            </div>
          
          <div class="social-actions">
            <a href="https://twitter.com/share?via=BrewhouseTeam" class="twitter-share-button" data-lang="en" data-url="http://brewhouse.io/2016/02/01/introducing-brewhouse-rails-template.html" data-related="chancancode,kalv,pcreux,chuckbergeron" data-counturl="">Tweet</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="article-start" class="container content">

      <div class="col-xs-12 col-sm-8">

        <div class="post clearfix">

          <p>We’ve shipped over a dozen Ruby on Rails apps that all share
the same base set of gems and configuration files. In order to save some
time and ensure that our next web apps share a common set of best
practices, we’ve put together the
<a href="https://github.com/BrewhouseTeam/brewhouse-rails-template">brewhouse-rails-template</a>.</p>

<p>The <a href="https://github.com/BrewhouseTeam/brewhouse-rails-template">brewhouse-rails-template</a>
is a Ruby on Rails 4.2 application ready to deploy to Heroku with popular gems
configured to work nicely together and a
<a href="https://github.com/BrewhouseTeam/brewhouse-rails-template/blob/master/bootstrap">self-destroying
script</a>
to
bootstrap your app by renaming all configuration and classes to your application name.</p>

<!-- break -->

<h2 id="what-about-generators">What about generators?</h2>

<p>We reviewed the excellent
<a href="https://github.com/thoughtbot/suspenders">Suspenders</a> gem by Thoughtbot and found
it bundles quite a number of gems we don’t use.
Customizing it to suit our needs would have been
quite difficult and maintaining a fork would have been even harder. However, we do 
recommend going through the
<a href="https://github.com/thoughtbot/suspenders">code</a> as it features a
<a href="https://github.com/thoughtbot/suspenders/blob/master/templates/_javascript.html.erb">lot</a>
of
<a href="https://github.com/thoughtbot/suspenders/blob/master/templates/disable_xml_params.rb">nice</a>
<a href="https://github.com/thoughtbot/suspenders/blob/master/templates/json_encoding.rb">tricks</a>
to get the most out of Rails.</p>

<p>We also experimented with building a <a href="http://guides.rubyonrails.org/rails_application_templates.html">Rails application template</a> that we could use when creating a new Rails app to set up gems and modify configuration files.
Making an application template turned out to be tedious as
we would write code to inject code into existing code. It’s hard to
understand what the template is trying to achieve and the output often
does not look right (wrong indentation etc).
On top of that, the feedback loop is quite slow as we would have to generate a
brand new rails app everytime we made a change. When we started to write specs to test our application template, we decided to take the simpler approach of making a base rails app that we’ll keep
updated as new versions of gems get published.</p>

<h2 id="whats-in-the-box">What’s in the box?</h2>

<p>A Ruby on Rails 4.2 application ready to deploy to Heroku with popular gems
configured to work nicely together and a <code>bootstrap</code> script that takes
care of renaming all configuration and classes to match your application
name.</p>

<h3 id="the-basics">The basics</h3>

<ul>
  <li><code>devise</code> with a <code>User</code> model setup and mailer previews available at
<code>/rails/mailers</code></li>
  <li><code>simple_form</code> set up for bootstrap 3</li>
  <li><code>virtus</code> for building
<a href="http://brewhouse.io/blog/2014/04/30/gourmet-service-objects.html">service objects</a></li>
  <li><code>schema_auto_foreign_keys</code> for a robust data layer where orphan
records are not a thing</li>
  <li><code>sidekiq</code> with dashboard at <code>/sidekiq</code></li>
  <li><code>bootstrap-sass</code> with a couple of defaults in <code>_variables.scss</code></li>
  <li><code>roadie-rails</code> to inline css in emails so that GMail picks up the
styles</li>
</ul>

<h3 id="dev-env">Dev env</h3>

<ul>
  <li><code>dotenv-rails</code> to store config and secrets in env variables</li>
  <li><code>letter_opener</code> to open emails in the browser in dev env</li>
  <li><code>factory_girl</code> with generators integration setup</li>
  <li><code>spring</code> bin-stubs in <code>./bin</code> (ProTip: Add <code>./bin</code> to your <code>$PATH</code>)</li>
</ul>

<h3 id="test">Test</h3>

<ul>
  <li><code>rspec</code> for unit testing</li>
  <li><code>cucumber</code> with <code>capybara-webkit</code> and <code>capybara-screenshot</code> for
integration tests</li>
  <li><code>simplecov</code> because test coverage matters</li>
</ul>

<h3 id="production">Production</h3>

<ul>
  <li><code>puma</code> ‘cause it’s fast</li>
  <li><code>rails_12factor</code> to run the app on Heroku</li>
  <li><code>heroku-deflater</code> to compress assets</li>
  <li><code>rollbar</code> to get notified about errors</li>
  <li><code>newrelic_rpm</code> to monitor performances</li>
  <li><code>app.json</code> to setup free add-ons (rollbar, newrelic, papertrail, etc.), environment variables and run migrations when you deploy to Heroku</li>
</ul>

<h2 id="usage">Usage</h2>

<p>Assuming you want to create “my-rails-app”:</p>

<ol>
  <li>
    <p>Clone the `brewhouse-rails-template` repo:</p>
    <p>
      <code>
        git clone git@github.com:BrewhouseTeam/brewhouse-rails-template.git my-rails-app
      </code>
    </p>
  </li>
  <li>
    <p>Bootstrap your app (rename all configuration and classes to your application name)</p>
    <p>
      <code>
        cd my-rails-app &amp;&amp; ./bootstrap my-rails-app
      </code>
    </p>
  </li>
</ol>

<h2 id="et-voilà-a-great-rails-app-with-solid-foundations">Et voilà! A great Rails app with solid foundations!</h2>

<p>We hope you’ll find
<a href="https://github.com/BrewhouseTeam/brewhouse-rails-template">brewhouse-rails-template</a>
to be a solid starting point for your next rails app.</p>

<p>As always, questions, comments, and contributions are more than welcomed.</p>

<p>Happy coding!</p>


        </div><!-- /post -->

        <div class="hire-us-form text-center">
  <h2>Let's Work Together</h2>
  <h3>Find out why our transparent, collaborative process is the best way to make well-loved products.</h3>
  <a href="/work-with-us.html" class="btn btn--blue">Get in touch today</a>
</div>


        <div id="disqus_thread"></div>

        <!-- disqus -->
        <script type="text/javascript">
            var disqus_shortname = 'brewhouse';
            var disqus_url = 'http://brewhouse.io/2016/02/01/introducing-brewhouse-rails-template.html';

            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <!-- /disqus -->

      </div>

  </div><!-- /content-->

</article>

<script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
</script>


    </div>

    <aside class="lets-talk cover">
  <div class="container">
    <div class="col-md-6">
      <p class="lede">We partner with businesses to design and develop well-loved products through a flexible and transparent process. We'd love to discuss how our process can help your idea become a reality.</p>
    </div>
  </div>
  <div class="container">
    <div class="col-md-6">
      <a href="mailto:hello@brewhouse.io">hello@brewhouse.io</a> &middot;
      <a href="http://twitter.com/brewhouseteam">@brewhouseteam</a>
    </div>
    <div class="col-md-5 col-md-offset-1">
      <a href="/work-with-us.html" class="btn btn--footer">Hire Us</a>
    </div>
  </div>
</aside>


    <footer id="footer">
  <div class="container">
    <nav role="navigation" class="col-md-6">
        <ul>
          <li>
            <a class="internal" href="/meet-the-team.html">Team</a>
          </li>
          <li>
            <a class="internal" href="/blog">Blog</a>
          </li>
          <li>
            <a class="internal" href="/show">Podcast</a>
          </li>
        </ul>
    </nav>
    <div class="col-md-5 col-md-push-1">
      <p class="copyright">
        &copy; <span class="copyright-year"></span> <a href="http://brewhouse.io">brewhouse software, inc.</a>
      </p>
    </div>
  </div>
</footer>


    <script type="text/javascript" src="/assets/app.js"></script>

    <!-- needs to be refactored when we have more layouts -->
    

  </body>
</html>
